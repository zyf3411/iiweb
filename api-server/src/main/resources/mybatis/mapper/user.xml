<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="user">

    <!--获取分页列表-->
    <select id="getAll" resultType="java.util.Map">
        SELECT u.*,
        'enum:status=USER_STATUS' as `status_desc`
        FROM iiweb_user u
        where 1=1
        <if test="createdDateFrom != null  and createdDateFrom != ''">
            and u.created_date >= #{createdDateFrom}
        </if>
        <if test="createdDateTo != null  and createdDateTo != ''">
            and u.created_date &lt;= #{createdDateTo}
        </if>
        <if test="statusFrom != null  and statusFrom != ''">
            and u.status >= #{statusFrom}
        </if>
        <if test="statusTo != null  and statusTo != ''">
            and u.status &lt;= #{statusTo}
        </if>
        <if test="name != null  and name != ''" >
            and u.name = #{name}
        </if>
        <if test="realname != null  and realname != ''" >
            and u.realname = #{realname}
        </if>
        and u.status &lt; 99 order by u.id desc
    </select>

</mapper>